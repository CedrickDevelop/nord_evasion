{"version":3,"file":"main.js","sources":["../../src/javascript/src/common/drupal/drupal.js","../../src/javascript/src/main/src/Footer.js","../../src/javascript/src/main/src/Header.js","../../src/javascript/src/main/main.js"],"sourcesContent":["export let T = {\n    /**\n     * Renvoie vrai si le context est root (document)\n     * @param context\n     */\n    contextIsRoot: function( context){\n        return 'HTML' === context.children[0].tagName;\n    },\n    /**\n     * Retourne vrai si la variable est définie.\n     * @param variable\n     * @returns {boolean}\n     */\n    isDefined: function (variable) {\n        return 'undefined' !== typeof variable;\n    },\n    /**\n     * Retourne la taille de la fenêtre dans un objet avec .width et .height\n     * @returns object\n     */\n    viewport: function () {\n        var e = window, a = 'inner';\n        if (!('innerWidth' in window )) {\n            a = 'client';\n            e = document.documentElement || document.body;\n        }\n        return { width : e[ a+'Width' ] , height : e[ a+'Height' ]};\n    }\n};\nexport let DrupalHelpers = {\n    getBasePath() {\n        return drupalSettings.path.baseUrl + drupalSettings.path.pathPrefix;\n    }\n};","import {$, T} from \"../../common/drupal/drupal\";\n/**\n * Class exemple de gestion du footer\n */\nclass Footer {\n\n    /**\n     * init\n     */\n    init(){\n        \n    }\n\n    /**\n     * Attach.\n     * @param context\n     */\n    attach(context) {\n        if (T.contextIsRoot(context)) {\n            this.init();\n        }\n    }\n}\n\nexport let footer = new Footer();\n","import {T} from \"../../common/drupal/drupal\";\n/**\n * Class de gestion du header mobile\n */\nclass Header {\n\n    constructor() {\n        this.$body = document.body;\n    }\n\n    /**\n     * init\n     */\n    init(context, settings) {\n      \n\n      //******** MOBILE MENU *************//\n      const $hamburger = context.getElementById(\"Hamburger\");\n      $hamburger.addEventListener(\"click\", (ev) => {\n        this.$body.classList.toggle(\"js-mobile-menu\");\n      });\n\n      //********** SEARCH POPIN ***********//\n      // const $searchButton = context.querySelectorAll(\".Menu-search\")[0];\n      // $searchButton.addEventListener(\"click\", (ev) => {\n      //   this.$body.classList.toggle(\"js-search-open\");\n      // });\n\n      //************ SCROLL BEHAVIOR ************//\n      if (window.pageYOffset > 160) {\n        this.$body.classList.add(\"js-scroll\");\n        // setTimeout(function() {\n        //   document.querySelector(\"main\").style.overflowY = 'initial';\n        // }, 500);\n      }\n\n      context.addEventListener(\"scroll\", (ev) => {\n        if(window.pageYOffset > 160) {\n          this.$body.classList.add(\"js-scroll\");\n        } else {\n          this.$body.classList.remove(\"js-scroll\");\n        }\n        console.log();\n      });\n\n      //*********** BACK TO TOP BUTTON ******************//\n      context.getElementById(\"backToTop\").addEventListener(\"click\", (ev) => {\n        window.scrollTo({top: 0, behavior: 'smooth'});\n      });\n\n    }    \n\n\n    /**\n     * Attach.\n     * @param context\n     */\n    attach(context, settings) {\n        if (T.contextIsRoot(context)) {\n            this.init(context, settings);\n        }\n    }\n}\n\nexport let header = new Header();\n","import {footer} from \"./src/Footer\";\nimport {header} from \"./src/Header\";\n\n(function (Drupal) { // closure\n    'use strict';\n    Drupal.behaviors.footer = footer;\n    Drupal.behaviors.header = header;\n}(Drupal));\n"],"names":["T","contextIsRoot","context","children","tagName","isDefined","variable","viewport","e","window","a","document","documentElement","body","width","height","Footer","init","footer","Header","$body","settings","$hamburger","getElementById","addEventListener","ev","classList","toggle","pageYOffset","add","remove","console","log","scrollTo","top","behavior","header","Drupal"],"mappings":"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"}