{"version":3,"file":"forms.js","sources":["../../src/javascript/src/common/drupal/drupal.js","../../src/javascript/src/forms/src/Forms.js","../../src/javascript/src/forms/forms.js"],"sourcesContent":["export let T = {\n    /**\n     * Renvoie vrai si le context est root (document)\n     * @param context\n     */\n    contextIsRoot: function( context){\n        return 'HTML' === context.children[0].tagName;\n    },\n    /**\n     * Retourne vrai si la variable est définie.\n     * @param variable\n     * @returns {boolean}\n     */\n    isDefined: function (variable) {\n        return 'undefined' !== typeof variable;\n    },\n    /**\n     * Retourne la taille de la fenêtre dans un objet avec .width et .height\n     * @returns object\n     */\n    viewport: function () {\n        var e = window, a = 'inner';\n        if (!('innerWidth' in window )) {\n            a = 'client';\n            e = document.documentElement || document.body;\n        }\n        return { width : e[ a+'Width' ] , height : e[ a+'Height' ]};\n    }\n};\nexport let DrupalHelpers = {\n    getBasePath() {\n        return drupalSettings.path.baseUrl + drupalSettings.path.pathPrefix;\n    }\n};","import {T} from \"../../common/drupal/drupal\"\n\nclass Forms {\n    init(context, settings) {\n        //Add contact\n        const $forms = context.querySelectorAll(\"form.user-login-form, form.webform-submission-contact-form-form\");\n        console.log($forms);\n        Array.from($forms).map(($form) => {\n            const $textInputs = $form.querySelectorAll(\"input[type='text'], input[type='email'], input[type='password']\");\n            Array.from($textInputs).map(($textInput) => {\n                if($textInput === context.activeElement) {\n                    const $inputWrapper = $textInput.parentNode;\n                    $inputWrapper.classList.add(\"focusing\");\n                }\n                $textInput.addEventListener(\"focus\", (e) => {\n                    const $inputWrapper = e.target.parentNode;\n                    $inputWrapper.classList.add(\"focusing\");\n                });\n                $textInput.addEventListener(\"blur\", (e) => {\n                    const $inputWrapper = e.target.parentNode;\n                    $inputWrapper.classList.remove(\"focusing\");\n                });\n            })\n        });\n    }\n\n    /**\n     * Attach.\n     * @param context\n     */\n    attach(context, settings) {\n        if (T.contextIsRoot(context)) {\n            this.init(context, settings);       \n        }\n    }\n\n}\n\nexport let forms = new Forms();","import {forms} from \"./src/Forms\";\n\n(function (Drupal) { // closure\n    'use strict';\n    Drupal.behaviors.forms = forms;\n}(Drupal));\n"],"names":["T","contextIsRoot","context","children","tagName","isDefined","variable","viewport","e","window","a","document","documentElement","body","width","height","Forms","settings","$forms","querySelectorAll","console","log","Array","from","map","$form","$textInputs","$textInput","activeElement","$inputWrapper","parentNode","classList","add","addEventListener","target","remove","init","forms","Drupal"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAO,IAAIA,CAAC,GAAG;EACX;EACJ;EACA;EACA;EACIC,EAAAA,aAAa,EAAE,uBAAUC,OAAV,EAAkB;EAC7B,WAAO,WAAWA,OAAO,CAACC,QAAR,CAAiB,CAAjB,EAAoBC,OAAtC;EACH,GAPU;;EAQX;EACJ;EACA;EACA;EACA;EACIC,EAAAA,SAAS,EAAE,mBAAUC,QAAV,EAAoB;EAC3B,WAAO,gBAAgB,OAAOA,QAA9B;EACH,GAfU;;EAgBX;EACJ;EACA;EACA;EACIC,EAAAA,QAAQ,EAAE,oBAAY;EAClB,QAAIC,CAAC,GAAGC,MAAR;EAAA,QAAgBC,CAAC,GAAG,OAApB;;EACA,QAAI,EAAE,gBAAgBD,MAAlB,CAAJ,EAAgC;EAC5BC,MAAAA,CAAC,GAAG,QAAJ;EACAF,MAAAA,CAAC,GAAGG,QAAQ,CAACC,eAAT,IAA4BD,QAAQ,CAACE,IAAzC;EACH;;EACD,WAAO;EAAEC,MAAAA,KAAK,EAAGN,CAAC,CAAEE,CAAC,GAAC,OAAJ,CAAX;EAA2BK,MAAAA,MAAM,EAAGP,CAAC,CAAEE,CAAC,GAAC,QAAJ;EAArC,KAAP;EACH;EA3BU,CAAR;;MCEDM;;;;;;;aACF,cAAKd,OAAL,EAAce,QAAd,EAAwB;EACpB;EACA,UAAMC,MAAM,GAAGhB,OAAO,CAACiB,gBAAR,CAAyB,iEAAzB,CAAf;EACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;EACAI,MAAAA,KAAK,CAACC,IAAN,CAAWL,MAAX,EAAmBM,GAAnB,CAAuB,UAACC,KAAD,EAAW;EAC9B,YAAMC,WAAW,GAAGD,KAAK,CAACN,gBAAN,CAAuB,iEAAvB,CAApB;EACAG,QAAAA,KAAK,CAACC,IAAN,CAAWG,WAAX,EAAwBF,GAAxB,CAA4B,UAACG,UAAD,EAAgB;EACxC,cAAGA,UAAU,KAAKzB,OAAO,CAAC0B,aAA1B,EAAyC;EACrC,gBAAMC,aAAa,GAAGF,UAAU,CAACG,UAAjC;EACAD,YAAAA,aAAa,CAACE,SAAd,CAAwBC,GAAxB,CAA4B,UAA5B;EACH;;EACDL,UAAAA,UAAU,CAACM,gBAAX,CAA4B,OAA5B,EAAqC,UAACzB,CAAD,EAAO;EACxC,gBAAMqB,aAAa,GAAGrB,CAAC,CAAC0B,MAAF,CAASJ,UAA/B;EACAD,YAAAA,aAAa,CAACE,SAAd,CAAwBC,GAAxB,CAA4B,UAA5B;EACH,WAHD;EAIAL,UAAAA,UAAU,CAACM,gBAAX,CAA4B,MAA5B,EAAoC,UAACzB,CAAD,EAAO;EACvC,gBAAMqB,aAAa,GAAGrB,CAAC,CAAC0B,MAAF,CAASJ,UAA/B;EACAD,YAAAA,aAAa,CAACE,SAAd,CAAwBI,MAAxB,CAA+B,UAA/B;EACH,WAHD;EAIH,SAbD;EAcH,OAhBD;EAiBH;EAED;EACJ;EACA;EACA;;;;aACI,gBAAOjC,OAAP,EAAgBe,QAAhB,EAA0B;EACtB,UAAIjB,CAAC,CAACC,aAAF,CAAgBC,OAAhB,CAAJ,EAA8B;EAC1B,aAAKkC,IAAL,CAAUlC,OAAV,EAAmBe,QAAnB;EACH;EACJ;;;;;;EAIE,IAAIoB,KAAK,GAAG,IAAIrB,KAAJ,EAAZ;;ECpCN;;EAEGsB;EACH;;;;;;"}